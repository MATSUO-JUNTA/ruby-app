<div class="container mx-auto mt-8" style="width: 80%;">
  <h1 class="text-3xl font-bold mb-6 text-center">Post List</h1>
  <div class="grid grid-cols-1 gap-6">
  <%= form_with url: search_path , method: :get, local: true, class: "mb-6" do %>
    <div class="flex justify-center">
      <%= text_field_tag :search_text , '', placeholder: "投稿を検索...", class: "form-input rounded-l-lg border-gray-300 w-2/3" %>
      <%= submit_tag "検索", class: "btn bg-blue-500 text-white rounded-r-lg" %>
    </div>
  <% end %>
    <% @posts.each do |post| %>
      <div class="card bg-white shadow-md rounded-xl p-6">
        <!-- 投稿のタイトルを表示する -->
        <h2 class="text-xl font-semibold mb-2"><%= post.title %></h2>
        <!-- 投稿の本文を表示する -->
        <p class="text-gray-700 mb-4"><%= post.body %></p>
        <div class="text-sm text-gray-500">
          <!-- 投稿者のメールアドレスと作成日時を表示する -->
          Posted by: <%= link_to post.user.email, user_path(post.user), class: "text-blue-500 underline" %><br>
          <%= l post.created_at %>
        </div>
        <div class="like-button">
          <%= render partial: "likes/like", locals: { post: post } %>
        </div>
        <div class="comment-button">
          <%= render partial: "comments/comment_button", locals: { post: post } %>
        </div>
        <% if post.user == current_user %>
          <div class="absolute bottom-4 right-4">
            <%= link_to '編集', edit_post_path(post), class: 'btn btn-primary' %>
            <%= link_to '削除', post_path(post), method: :post, 
            data: {
              turbo_method: :delete, 
              turbo_confirm: "本当に削除しますか?"
            }, class: 'bg-red-500 text-white py-3.5 px-4 rounded-lg' %>
          </div>
        <% end %>       
      </div>
    <% end %>
</div>
