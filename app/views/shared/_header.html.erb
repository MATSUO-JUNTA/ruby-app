<header class="bg-blue-500 p-4">
  <nav class="container mx-auto flex justify-between items-center">
    <%= link_to 'Top', root_path, class: "text-white font-semibold" %>
    <div class="flex items-center">
      <% if logged_in? %>
        <% if current_user.avatar.present? %>
          <%= image_tag(current_user.avatar.url, alt: "Avatar", class: "w-8 h-8 rounded-full bg-white mr-2") %>
        <% end %> 
        <%= link_to current_user.email, user_path(current_user), class: "text-white mx-2" %>
        <%= button_to 'Logout', logout_path, method: :delete, class: "text-white mx-2" %>
        <%= link_to 'Post', new_post_path, class: "text-white mx-2" %>
        <%= link_to notifications_path, class: "relative text-white mx-2" do %>
          <span>Notifications</span>
          <% if current_user.notifications.unread.count > 0 %>
            <span class="absolute top-0 right-0 inline-block w-6 h-6 bg-red-600 text-white text-xs leading-6 text-center rounded-full">
            <%= current_user.notifications.unread.count %>
            </span>
          <% end %>
        <% end %>
      <% else %>
        <%= link_to 'Login', new_user_path, class: "text-white mx-2" %>
        <%= link_to 'Sign Up', new_session_path, class: "text-white mx-2" %>
      <% end %>
    </div>
  </nav>
</header>